<script>
    document.addEventListener('DOMContentLoaded', function() {
        var messages = [
            { category: 'Welcome', text: 'Welcome to CIPT, I wish you a good day', type: 'one-time' },
            { category: 'Hint', text: 'Manage your capital well and donâ€™t be greedy', type: 'repeated' },
            { category: 'News', text: 'CIPT Version 2.1 has been released, you can download it now', type: 'repeated' },
            { category: 'Hint', text: 'Trading without a plan will take your wallet to hell', type: 'repeated' },
            { category: 'Congrats', text: 'Happy New Year', type: 'specific', startDate: '2024-12-29', endDate: '2025-01-01' }
        ];

        var messageTextElement = document.getElementById('message-text');
        var currentIndex = 0;

        function showNextMessage() {
            var now = new Date();
            var message = messages[currentIndex];

            if (message.type === 'one-time' && sessionStorage.getItem('shownMessage')) {
                currentIndex++;
                if (currentIndex >= messages.length) {
                    currentIndex = 0;
                }
                showNextMessage();
                return;
            }

            if (message.type === 'specific') {
                var startDate = new Date(message.startDate);
                var endDate = new Date(message.endDate);
                if (now < startDate || now > endDate) {
                    currentIndex++;
                    if (currentIndex >= messages.length) {
                        currentIndex = 0;
                    }
                    showNextMessage();
                    return;
                }
            }

            messageTextElement.textContent = message.category + ' || ' + message.text;

            if (message.type === 'one-time') {
                sessionStorage.setItem('shownMessage', true);
            }

            currentIndex++;
            if (currentIndex >= messages.length) {
                currentIndex = 0;
            }

            setTimeout(showNextMessage, 10000); // Show each message for 10 seconds
        }

        showNextMessage();
    });
</script>
